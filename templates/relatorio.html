<html>
    {% load static %}
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>INVEST - RELATÓRIOS</title>
        
        <!-- Bootstrap -->
       <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
       <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>

       <!-- CSS -->

       <link rel="stylesheet" href="{% static 'css/relatorio.css' %}">

       <!-- JS / Jquery -->
       <script src="{% static 'js/jquery.js' %}"></script>
       
       <link href="{% static 'animacao/gh_animation.css' %}" rel="stylesheet" type="text/css" media="screen" />
       <script type="text/javascript" src="{% static 'animacao/gh_animation.js' %}""></script>   

        <!-- Highchart -->
        <script src="https://code.highcharts.com/highcharts.js"></script>
        <script src="https://code.highcharts.com/modules/data.js"></script>
        <script src="https://code.highcharts.com/modules/series-label.js"></script>
        <script src="https://code.highcharts.com/modules/exporting.js"></script>
        <script src="https://code.highcharts.com/modules/export-data.js"></script>
        <script src="https://code.highcharts.com/modules/accessibility.js"></script>

    </head> 
    <body>
        <header class="header">
            <div class="container">
                <div class="row">
                    <div id="logo" class="col-6">
                        <a href="index">INVEST</a>
                    </div>
                    <div class="col-6 text-right">
                        <nav>
                            <a href="index">Início</a>
                            <a href="blog">Blog</a>
                            <a href="ajuda">Ajuda</a>
                            <a href="cadastro">Cadastrar-se</a>
                            <a href="login">Entrar</a>
                        </nav>
                    </div>
                </div>
            </div>
        </header>
        <section id="header2">
            <div class="container">
                <div class="row">
                    <div class="col-12 text-center">
                        <nav>
                            <a class="carteira" href="carteira">Carteiras</a>
                            <a class="relatorio" href="relatorio">Relatórios</a>
                            <a class="conta" href="conta">Conta</a>
                        </nav>
                    </div>
                </div>
            </div>
        </section>

        <section id="relatorios">
            <div class="container">
              <div class="row">
                <div id="acoes" class="col-12" style="margin-top: 40px;">
                </div>
              </div>
            </div>
        </section>
        <section id="relatorios2">
            <div class="container">
              <div class="row">
                <div id="anual" class="col-12" style="margin-top: 40px;">
                </div>
              </div>
            </div>
        </section>
        <section id="relatorios3">
            <div class="container">
              <div class="row">
                <div id="total" class="col-12" style="margin-top: 40px;">
                </div>
              </div>
            </div>
        </section>

        <section id="relatorios4">
            <div class="container">
              <div class="row">
                <div id="pizza" class="col-12" style="margin-top: 40px;">
                </div>
              </div>
            </div>
        </section>

        <section id="relatorios5">
            <div class="container">
              <div class="row">
                <div id="teste" class="col-12" style="margin-top: 40px;">
                </div>
              </div>
            </div>
        </section>

        <footer>
            <div class="container">
                <div class="row">
                    <div id="logo" class="col-6">
                        <a href="index">INVEST</a>
                    </div>
                    <div class="col-6 text-right">
                        <p>© 2021 Invest - Todos os direitos reservados</p>
                    </div>
                </div>
            </div>
        </footer>
        
    </body>
    <script>
        Highcharts.chart('acoes', {

            chart: {
                styledMode: true
            },

            title: {
                text: 'Relatório de Ações'
            },

            subtitle: {
                text: 'Carteira 1'
            },

            xAxis: {
                categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
            },

            {% for perfil in perfis %}
            series: [{
                type: 'pie',
                allowPointSelect: true,
                keys: ['name', 'y', 'selected', 'sliced'],
                    data: [
                    
                    // [{{perfil.acao}}],


                    ['Apples', 29.9, false],
                    ['Pears', 71.5, false],
                    ['Oranges', 106.4, false],
                    ['Plums', 129.2, false],
                    ['Bananas', 144.0, false],
                    ['Peaches', 176.0, false],
                    ['Prunes', 135.6, false],
                    ['Avocados', 148.5, false]
                ],
                showInLegend: true
            }]
            {% endfor %}
        });

        Highcharts.chart('anual', {
            chart: {
                type: 'line'
            },
            title: {
                text: 'Relatório Anual'
            },
            subtitle: {
                text: 'Carteira 1'
            },
            xAxis: {
                categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
            },
            yAxis: {
                title: {
                    text: 'Temperature (°C)'
                }
            },
            plotOptions: {
                line: {
                    dataLabels: {
                        enabled: true
                    },
                    enableMouseTracking: false
                }
            },
            series: [{
                name: 'Tokyo',
                data: [7.0, 6.9, 9.5, 14.5, 18.4, 21.5, 25.2, 26.5, 23.3, 18.3, 13.9, 9.6]
            }, {
                name: 'London',
                data: [3.9, 4.2, 5.7, 8.5, 11.9, 15.2, 17.0, 16.6, 14.2, 10.3, 6.6, 4.8]
            }]
        });

        Highcharts.getJSON(
            'https://cdn.jsdelivr.net/gh/highcharts/highcharts@v7.0.0/samples/data/usdeur.json',
            function (data) {

                Highcharts.chart('total', {
                    chart: {
                        zoomType: 'x'
                    },
                    title: {
                        text: 'Relatório Total'
                    },
                    subtitle: {
                        text: 'Carteira 1'
                    },
                    xAxis: {
                        type: 'datetime'
                    },
                    yAxis: {
                        title: {
                            text: 'Exchange rate'
                        }
                    },
                    legend: {
                        enabled: false
                    },
                    plotOptions: {
                        area: {
                            fillColor: {
                                linearGradient: {
                                    x1: 0,
                                    y1: 0,
                                    x2: 0,
                                    y2: 1
                                },
                                stops: [
                                    [0, Highcharts.getOptions().colors[0]],
                                    [1, Highcharts.color(Highcharts.getOptions().colors[0]).setOpacity(0).get('rgba')]
                                ]
                            },
                            marker: {
                                radius: 2
                            },
                            lineWidth: 1,
                            states: {
                                hover: {
                                    lineWidth: 1
                                }
                            },
                            threshold: null
                        }
                    },

                    series: [{
                        type: 'area',
                        name: 'USD to EUR',
                        data: data
                    }]
                });
            }
        );
    </script>

    <script>
                Highcharts.chart('pizza', {
            chart: {
                plotBackgroundColor: null,
                plotBorderWidth: null,
                plotShadow: false,
                type: 'pie'
            },
            title: {
                text: 'funciona caralho'
            },
            tooltip: {
                pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
            },
            accessibility: {
                point: {
                    valueSuffix: '%'
                }
            },
            plotOptions: {
                pie: {
                    allowPointSelect: true,
                    cursor: 'pointer',
                    dataLabels: {
                        enabled: true,
                        format: '<b>{point.name}</b>: {point.percentage:.1f} %'
                    }
                }
            },
            series: [{
                name: 'Brands',
                colorByPoint: true,
                data: {{ relatorio }}
            }]
        });

    </script>

    <script>
                Highcharts.chart('teste', {
            chart: {
                plotBackgroundColor: null,
                plotBorderWidth: null,
                plotShadow: false,
                type: 'pie'
            },
            title: {
                text: 'TESTE'
            },
            tooltip: {
                pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
            },
            accessibility: {
                point: {
                    valueSuffix: '%'
                }
            },
            plotOptions: {
                pie: {
                    allowPointSelect: true,
                    cursor: 'pointer',
                    dataLabels: {
                        enabled: true,
                        format: '<b>{point.name}</b>: {point.percentage:.1f} %'
                    }
                }
            },
            series: [{
                name: 'Brands',
                colorByPoint: true,
                data: [{
                    name: 'Chrome',
                    y: 61.41
                }, {
                    name: 'Internet Explorer',
                    y: 11.84
                }, {
                    name: 'Firefox',
                    y: 10.85
                }, {
                    name: 'Edge',
                    y: 4.67
                }, {
                    name: 'Safari',
                    y: 4.18
                }, {
                    name: 'Sogou Explorer',
                    y: 1.64'
                }, {
                    name: 'Opera',
                    y: 1.6
                }, {
                    name: 'QQ',
                    y: 1.2
                }, {
                    name: 'Other',
                    y: 2.61
                }]
            }]
        });
    </script>


</html>